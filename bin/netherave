#!/usr/bin/env php
<?php

use Nether\Console;

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

(function(){
	$CWD = getcwd();
	$Autoloaders = [
		'InstalledMode' => sprintf('%s/autoload.php', dirname(__DIR__, 3)),
		'DeveloperMode' => sprintf('%s/vendor/autoload.php', dirname(__DIR__,1))
	];

	echo __DIR__, PHP_EOL;

	if(file_exists("{$CWD}/dev.lock")) {
		echo 'DEVELOPER MODE', PHP_EOL;
		require($Autoloaders['DeveloperMode']);
	}

	else {
		echo 'INSTALLED MODE', PHP_EOL;
		require($Autoloaders['InstalledMode']);
	}

	return;
})();



////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

class App
extends Nether\Console\Client {

	#[Console\Meta\Subcommand]
	#[Console\Meta\Info('Generate a static route map.')]
	public function
	HandleGen():
	int {

		return 0;
	}

}

(new App)->Run();
